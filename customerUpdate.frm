{
  "!type": "Form",
  "_uuid": "40d186a6e3cf4584b2f81898d3d4d073",
  "HTML": "",
  "attributes": "",
  "background": "",
  "backgroundimage": "",
  "borderColor": "",
  "borderStyle": "",
  "borderWidth": "",
  "cached_js": "",
  "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
  "children": [
    {
      "!type": "Dropdown_bs4",
      "_uuid": "5960c66a50b740078227a050db08f052",
      "align": "",
      "appearance": " btn-secondary",
      "backgroundColor": "",
      "badge": "",
      "badgeAppearance": " badge-info",
      "blockLevel": "",
      "borderColor": "",
      "borderStyle": "",
      "borderWidth": "",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "disabled": "",
      "display": "",
      "dropdown": "dropdown",
      "expanded_pmp": true,
      "filter": "false",
      "filterPlaceholder": "Search...",
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "groupStyle": "",
      "grouping": "",
      "height": "auto",
      "hidden": "",
      "icon": "caret",
      "id": "selToChange",
      "items": "!Heading\nItem 1\nItem 2\n-\n*Item 3 (disabled)",
      "left": 104,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "onclick": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "outline": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "popBody": "Body",
      "popClose": "hover",
      "popPosition": "",
      "popStyle": "popover",
      "popTitle": "Title",
      "right": "auto",
      "script": "",
      "size": " btn-md",
      "style": "",
      "top": 16,
      "value": "Select name",
      "width": "auto"
    },
    {
      "!type": "Textarea_bs4",
      "_uuid": "1215a612c86e4d81ad389335e449bc9f",
      "align": "",
      "autocapitalize": "",
      "autocomplete": "",
      "autocorrect": "",
      "backgroundColor": "",
      "badge": "",
      "badgeAppearance": " badge-info",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "disabled": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "footer": "",
      "header": "Enter new customer name",
      "headerCols": 2,
      "height": "auto",
      "hidden": "",
      "icon": "",
      "iconTitle": "",
      "id": "txtNewCustomerText",
      "inputmode": "",
      "left": 0,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "maxlength": "",
      "name": "",
      "onchange": "",
      "onclick": "",
      "oncopy": "",
      "oncut": "",
      "onfocusin": "",
      "onfocusout": "",
      "oninput": "",
      "onkeypress": "",
      "onkeyup": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onpaste": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "placeholder": "Enter text here",
      "popBody": "Body",
      "popClose": "hover",
      "popPosition": "",
      "popStyle": "popover",
      "popTitle": "Title",
      "readonly": "",
      "required": "",
      "right": "auto",
      "rows": "",
      "script": "",
      "spellcheck": "true",
      "style": "",
      "top": 56,
      "validation": "",
      "value": "",
      "valueCols": 10,
      "width": "auto"
    },
    {
      "!type": "Button_bs4",
      "_uuid": "d0233a8347f949219c9eaa5b67e20d42",
      "ChangeForm": "",
      "appearance": " btn-secondary",
      "backgroundColor": "",
      "badge": "",
      "badgeAppearance": " badge-info",
      "blockLevel": "",
      "borderColor": "",
      "borderStyle": "",
      "borderWidth": "",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "disabled": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "groupStyle": "",
      "grouping": "",
      "height": "auto",
      "hidden": "",
      "icon": "",
      "iconTitle": "",
      "id": "btnAddCustomer",
      "left": 120,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "onclick": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "outline": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "popBody": "Body",
      "popClose": "hover",
      "popPosition": "",
      "popStyle": "popover",
      "popTitle": "Title",
      "right": "auto",
      "script": "",
      "size": " btn-md",
      "style": "",
      "toggleControl": "",
      "top": 176,
      "value": "Add customer",
      "width": "auto"
    },
    {
      "!type": "Input_bs4",
      "_uuid": "e25619f7d18549fc8203cf4aaeccbe8f",
      "align": "",
      "attributes": "",
      "autocapitalize": "",
      "autocomplete": "",
      "autocorrect": "",
      "backgroundColor": "",
      "badge": "",
      "badgeAppearance": " badge-info",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "datalist": "",
      "disabled": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "footer": "",
      "header": "New customers",
      "headerCols": 2,
      "height": "auto",
      "hidden": "",
      "icon": "",
      "iconTitle": "",
      "id": "inptNewName",
      "inputType": "text",
      "inputmode": "",
      "left": 0,
      "leftText": "",
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "max": "",
      "maxlength": "",
      "min": "",
      "name": "",
      "onchange": "",
      "onclick": "",
      "oncopy": "",
      "oncut": "",
      "onfocusin": "",
      "onfocusout": "",
      "oninput": "",
      "onkeypress": "",
      "onkeyup": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onpaste": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "placeholder": "Enter text here",
      "popBody": "Body",
      "popClose": "hover",
      "popPosition": "",
      "popStyle": "popover",
      "popTitle": "Title",
      "readonly": "",
      "required": "",
      "right": "auto",
      "script": "",
      "size": "",
      "size-lg": 4,
      "spellcheck": "true",
      "step": "",
      "style": "",
      "top": 232,
      "validation": "",
      "value": "",
      "valueCols": 10,
      "width": "auto"
    },
    {
      "!type": "Label_bs4",
      "_uuid": "7defcef4bce64564b7acde7a4484a465",
      "appearance": "primary",
      "backgroundColor": "",
      "borderRadius": "0",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "height": "auto",
      "hidden": "",
      "id": "lblMessage1",
      "labelStyle": "text",
      "left": 144,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "onclick": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "right": "auto",
      "script": "",
      "style": "",
      "top": 336,
      "value": "Label",
      "width": "auto"
    }
  ],
  "class": "",
  "designHeight": 0,
  "designWidth": 0,
  "expanded_pmp": false,
  "fullScreen": "true",
  "height": 460,
  "id": "customerUpdate",
  "language": "JavaScript",
  "left": "0",
  "locked": false,
  "modal": "false",
  "onhide": "",
  "onkeypress": "",
  "onresize": "",
  "onshow": "",
  "openMode": "none",
  "parentForm": "",
  "position": "absolute",
  "script": "let pw = \"Bluejay1!\"\n/*\n> Used a textArea or Dropdown to display the customer names\n> Used an input control for the user to enter a customer name.\n> When user clicks a button, the program gets the new customer name from the user.\n> The new name replaces the old name in the customer record.\n> The change is reflected in the display and the database.\n> Used a textArea to display the remaining customers. \n*/\n\n pw = \"Bluejay1!\"\nselToChange.onclick=function() {\n    // get the data to populate the dropdown with names from database\n    let query = \"SELECT name FROM customer\"\n    req = Ajax(\"https://ormond.creighton.edu/courses/375/ajax-connection.php\", \"POST\", \"host=ormond.creighton.edu&user=aec83928&pass=\" + pw + \"&database=aec83928&query=\" + query)\n\n    if (req.status == 200)  //transit worked.\n          allNames = JSON.parse(req.responseText)\n            // names now in results array - load names into the dropdown\n            //POSSIBLY CHANGE - SEL\n            selToChange.clear()\n            for (i = 0; i <= allNames.length - 1; i++)\n                selToChange.addItem(allNames[i])\n     else \n        // transit error\n        NSB.MsgBox(`Error: ${req.status}`);\n    \n}\n\nbtnAddCustomer.onclick=function(){\n    let newName = inptNewName.value\n    let oldName = selToChange.value\n   \n    let found = false\n    for (i = 0; i <= allNames.length - 1; i++)\n        if (oldName == allNames[i]) {\n            found = true\n            break\n}\n    if (found == false)\n       NSB.MsgBox(\"The change is reflected in the database.\")\n    else if (found == true) {\n        query = \"UPDATE customer SET name =\" + '\"' + newName + '\"' + \" WHERE name = \" + '\"' + oldName + '\"'\n        //alert(query)\n        req = Ajax(\"https://ormond.creighton.edu/courses/375/ajax-connection.php\", \"POST\", \"host=ormond.creighton.edu&user=aec83928&pass=\" + pw + \"&database=aec83928&query=\" + query)\n\n        if (req.status == 200) { //transit worked.\n            if (req.responseText == 500) {   // means the update succeeded\n                NSB.MsgBox(`You have successfully changed the customer name!`)\n                // reset controls to original state\n                inptNewName.value = \"\"\n                selToChange.value = \"\"\n            else\n              NSB.MsgBox(`There was a problem changing the customer name.`)\n            else\n            // transit error\n            NSB.MsgBox(`Error: ${req.status}`);\n//2nd text area display\n//shows all the customers that are in the database in the 2nd textarea\n    let message = \" \"\n    for (i = 0; i < allNames.length; i++)\n    message = message + allNames[i][1] + \"\\n\"\n    txtNewCustomerText.value = message\n\n    else  \n        //transit error - Handle that with an error message.\n        lblMessage1.textContent =` \"Error code: \" + req.status`\n}\n\n\n  \n       \n",
  "setFocusID": "",
  "style": "",
  "theme": "",
  "top": "0",
  "width": 320,
  "_functions": []
}