{
  "!type": "Form",
  "_uuid": "02cfba666ba141298d1d4de505ab125f",
  "HTML": "",
  "attributes": "",
  "background": "",
  "backgroundimage": "",
  "borderColor": "",
  "borderStyle": "",
  "borderWidth": "",
  "cached_js": "",
  "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
  "children": [
    {
      "!type": "Textarea_bs4",
      "_uuid": "03c97734e78b443b8402ffcc51d4b722",
      "align": "",
      "autocapitalize": "",
      "autocomplete": "",
      "autocorrect": "",
      "backgroundColor": "",
      "badge": "",
      "badgeAppearance": " badge-info",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "disabled": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "footer": "",
      "header": "Select the customer you want to delete.",
      "headerCols": 2,
      "height": "auto",
      "hidden": "",
      "icon": "",
      "iconTitle": "",
      "id": "txtNames",
      "inputmode": "",
      "left": 0,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "maxlength": "",
      "name": "",
      "onchange": "",
      "onclick": "",
      "oncopy": "",
      "oncut": "",
      "onfocusin": "",
      "onfocusout": "",
      "oninput": "",
      "onkeypress": "",
      "onkeyup": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onpaste": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "placeholder": "Enter text here",
      "popBody": "Body",
      "popClose": "hover",
      "popPosition": "",
      "popStyle": "popover",
      "popTitle": "Title",
      "readonly": "",
      "required": "",
      "right": "auto",
      "rows": "",
      "script": "",
      "spellcheck": "true",
      "style": "",
      "top": 16,
      "validation": "",
      "value": "",
      "valueCols": 10,
      "width": "auto"
    },
    {
      "!type": "Textarea_bs4",
      "_uuid": "7536464c3ffb41c1859355b90b9b1fc9",
      "align": "",
      "autocapitalize": "",
      "autocomplete": "",
      "autocorrect": "",
      "backgroundColor": "",
      "badge": "",
      "badgeAppearance": " badge-info",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "disabled": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "footer": "",
      "header": "Updated customer list",
      "headerCols": 2,
      "height": "auto",
      "hidden": "",
      "icon": "",
      "iconTitle": "",
      "id": "txtNonDelete",
      "inputmode": "",
      "left": 0,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "maxlength": "",
      "name": "",
      "onchange": "",
      "onclick": "",
      "oncopy": "",
      "oncut": "",
      "onfocusin": "",
      "onfocusout": "",
      "oninput": "",
      "onkeypress": "",
      "onkeyup": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onpaste": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "placeholder": "Enter text here",
      "popBody": "Body",
      "popClose": "hover",
      "popPosition": "",
      "popStyle": "popover",
      "popTitle": "Title",
      "readonly": "",
      "required": "",
      "right": "auto",
      "rows": "",
      "script": "",
      "spellcheck": "true",
      "style": "",
      "top": 144,
      "validation": "",
      "value": "",
      "valueCols": 10,
      "width": "auto"
    },
    {
      "!type": "Label_bs4",
      "_uuid": "43e1cfac54614f4088c26d939fc93588",
      "appearance": "primary",
      "backgroundColor": "",
      "borderRadius": "0",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "height": "auto",
      "hidden": "",
      "id": "lblError",
      "labelStyle": "text",
      "left": 120,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "onclick": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "right": "auto",
      "script": "",
      "style": "",
      "top": 312,
      "value": "Label",
      "width": "auto"
    }
  ],
  "class": "",
  "designHeight": 0,
  "designWidth": 0,
  "expanded_pmp": "",
  "fullScreen": "true",
  "height": 460,
  "id": "customerDelete",
  "language": "JavaScript",
  "left": "0",
  "locked": false,
  "modal": "false",
  "onhide": "",
  "onkeypress": "",
  "onresize": "",
  "onshow": "",
  "openMode": "none",
  "parentForm": "",
  "position": "absolute",
  "script": "let pw = \"Bluejay1!\"\n\n/*\n> Used a textArea or Dropdown that shows all the customer names, one per line.\n> User can pick a customer from the list.  \n> Used a sql Delete  query to delete the customer chosen by the user from the display control. \n> Used an AJAX call to the database to delete the matching customer. \n> Checked if customer name exists in database before deleting it.\n> Used a textArea to show the user the remaining customer names, using a template literal. \n*/\n\ncustomerDelete.onshow=function(){ \n  txtResults_contents.style.height = \"200px\" \n  \nlet query = \"SELECT * FROM customer\" \n\nlet req = Ajax(\"https://ormond.creighton.edu/courses/375/ajax-connection.php\", \"POST\", \"host=ormond.creighton.edu&user=aec83928&pass=\" + pw + \"&database=aec83928&query=\" + query)\n\n    if (req.status == 200) {\n    allCustomerData = JSON.parse(req.responseText)\n      console.log(results)\n    } \n//if there are no customers\nif (results.length == 0) //no results were returned by the query. \n      lblError.value = \"There are no customers.\"\nelse \n      console.log(`the parsed JSON is ${results}`)\n      console.log(`tje first row/item in the big array is a small array: ${results[0]}`)\n//show all customer names \n  for (i = 0; i <= allCustomerData.length-1; i++) \n    txtNames.additem(results[i][1])\n//when the user clicks a name \ntxtNames.onclick=function(){\n  let customerDelete = txtNames.value\n  //make sure in the database \n  let found = false\n    for (i = 0; i <= allCustomerData.length-1; i++) {\n      if(customerDelete == allCustomerData[i][1])\n      found = true \n      break\n}\n      if (found == false) \n        NSB.MsgBox(\"That customer name is not in the database.\")\n      else if (found == true) {\n        let query = \"DELETE FROM customer WHERE name = \" + '\"' + customerDelete + '\"'\n        req = Ajax(\"https://ormond.creighton.edu/courses/375/ajax-connection.php\", \"POST\", \"host=ormond.creighton.edu&user=aec83928&pass=\" + pw + \"&database=aec83928&query=\" + query)\n        \n        if (req.status = 200) { //transit worked.\n          if (req.responseText == 500) //means insert was a success.\n            NSB.MsgBox(`You have successfully deleted ${customerDelete}`)\n          else\n            NSB.MsgBox(`There was a problem deleting ${customerDelete} from the database.`)\n          } else { \n            //transit error \n            NSB.MsgBox(`Error: ${req.status}`);\n          }\n} else {\n//for listing all of the names that have not been deleted\n    let message = \" \" \n    for (i = 0; i < allCustomerData.length-1; i++) \n    message = message + allCustomerData[i][0] + \"\\n\"\n    txtNonDelete.value = message \n} \n\n\n//allows the results to be matched to a state and adds to an array \n\n  for (i = 0; i < results.length[i][1]; i++) \n    if (state == results[i][4])\n      displayNames.push(results[i][1]) \n        newQuery = `SELECT name FROM customer WHERE state = ${customerState}`\n      //write a select statement to show the state in the box \n      newQuery = `SELECT name FROM customer WHERE state = ${customerState}`\n      req = Ajax(\"https://ormond.creighton.edu/courses/375/ajax-connection.php\", \"POST\", \"host=ormond.creighton.edu&user=aec83928&pass=\" + pw + \"&database=aec83928&query=\" + query)\n      if (req.status == 200) { //transit trip worked\n    //has all roqs for ex horses records\n      results = JSON.parse(req.responseText)\n    //PROBLEM with the else \n  else \n    let message = \" \" \n    for (i = 0; i < results.length-1; i++) \n    message = message + results[i][0] + \"\\n\" \n    txtAllStates.value = message\n  // end else \nelse \n  txtAllStates = `Error code:  + req.status`\n\n\n\n} \n\n} \n*/",
  "setFocusID": "",
  "style": "",
  "theme": "",
  "top": "0",
  "width": 320,
  "_functions": [
    {
      "!type": "Form",
      "_uuid": "dbd9df0729b041319760564904f364c9",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "customerDelete.onshow",
      "location": [
        11,
        12
      ],
      "script": "",
      "signature": "customerDelete.onshow()"
    },
    {
      "!type": "Form",
      "_uuid": "b5667c121cc04532bc62f3714727e22c",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "txtNames.onclick",
      "location": [
        32,
        33
      ],
      "script": "",
      "signature": "txtNames.onclick()"
    }
  ]
}